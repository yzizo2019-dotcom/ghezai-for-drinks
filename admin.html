<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <main class="admin-container">
    <h2>ğŸ“¦ Ø§Ù„Ø·Ù„Ø¨Ø§Øª</h2>

    <div class="admin-login" id="adminLogin">
      <p>Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©:</p>
      <input type="password" id="adminPass" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢">
      <button id="adminEnter" class="btn-primary">Ø¯Ø®ÙˆÙ„</button>
    </div>

    <div id="orders" class="orders hidden"></div>
  </main>

  <footer>
    <p>Â© 2025 Ù…ØªØ¬Ø± Ø§Ù„Ù…Ø´Ø±ÙˆØ¨Ø§Øª Ø§Ù„ØºØ§Ø²ÙŠØ© ÙˆØ§Ù„Ø¹ØµØ§Ø¦Ø±</p>
  </footer>

  <script>
    const ADMIN_PASSWORD = '123456'; // ØºÙŠÙ‘Ø±Ù‡Ø§ Ø¥Ø°Ø§ Ø£Ø±Ø¯Øª

    document.getElementById('adminEnter').addEventListener('click', () => {
      const pass = document.getElementById('adminPass').value;
      if (pass !== ADMIN_PASSWORD) {
        alert('âŒ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©');
        return;
      }

      document.getElementById('adminLogin').classList.add('hidden');
      loadOrders();
    });

    function loadOrders() {
      const orders = JSON.parse(localStorage.getItem('orders') || '[]');
      const container = document.getElementById('orders');
      container.classList.remove('hidden');

      if (orders.length === 0) {
        container.innerHTML = '<p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ø­Ø§Ù„ÙŠØ§Ù‹</p>';
        return;
      }

      container.innerHTML = '';
      orders.forEach((order, idx) => {
        const div = document.createElement('div');
        div.className = 'order';
        div.innerHTML = `
          <h3>Ø·Ù„Ø¨ #${idx + 1}</h3>
          <p>ğŸ‘¤ Ø§Ù„Ø²Ø¨ÙˆÙ†: ${order.customer.name}</p>
          <p>ğŸ“§ Ø§Ù„Ø¨Ø±ÙŠØ¯: ${order.customer.email}</p>
          <p>ğŸ“ Ø§Ù„Ù‡Ø§ØªÙ: ${order.customer.phone || '-'}</p>
          <p>ğŸ“ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: ${order.customer.address || '-'}</p>
          <h4>ğŸ›’ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª:</h4>
          <ul>
            ${order.items.map(i => `<li>${i.name} Ã— ${i.quantity} â€” ${i.price} Ø¯Ø¬</li>`).join('')}
          </ul>
          <p><strong>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ:</strong> ${order.total} Ø¯Ø¬</p>
          <p>ğŸ“… Ø§Ù„ØªØ§Ø±ÙŠØ®: ${order.date}</p>
          <hr>
        `;
        container.appendChild(div);
      });
    }
  </script>
</body>
</html>
<script type="module">
import { createClient } from "https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm";
import { SUPABASE_URL, SUPABASE_ANON_KEY } from "./config.js";

// Ø¥Ù†Ø´Ø§Ø¡ Ø§ØªØµØ§Ù„ Ù…Ø¹ Supabase
const supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
</script>
